<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <table id="table">
        <tr>
            <th>Product Name</th>
            <th>Product Category</th>
            <th>Product Price</th>
            <th>Action</th>
        </tr>
        <tr>
            <td>M&M</td>
            <td>Snacks</td>
            <td>$1.99</td>
            <td><button class="delete" onclick="dele()">Delete</button></td>
        </tr>
        <tr>
            <td>Table</td>
            <td>Furniture</td>
            <td>$199</td>
            <td><button class="delete" onclick="dele()">Delete</button></td>
        </tr>
        <tr>
            <td>Kale</td>
            <td>Vegetables</td>
            <td>$2.49</td>
            <td><button class="delete" onclick="dele()">Delete</button></td>
        </tr>
    </table>
    <hr>
    <h3>Add Product</h3>
    <form>
        <label for="pname">Product Name: </label>
        <input type="text" id="pname" name="pname">
        <label for="categ">Product Category: </label>
        <input type="text" id="categ" name="categ">
        <label for="price">Product Price: </label>
        <input type="text" id="price" name="price">
        <input type="button" id="submit" value="Add New"></input>
    </form>
    <script type="text/javascript">
        
        document.getElementById("submit").addEventListener("click", function (e) {
            e.preventDefault();
            var name = document.getElementById("pname").value;
            var categ = document.getElementById("categ").value;
            var price = document.getElementById("price").value;
            if (name && categ && price) {
                var table = document.getElementById("table");
                var row = table.insertRow(-1);
                var cell1 = row.insertCell(0);
                var cell2 = row.insertCell(1);
                var cell3 = row.insertCell(2);
                var cell4 = row.insertCell(3);
                cell1.innerHTML = name;
                cell2.innerHTML = categ;
                cell3.innerHTML = price;
                cell4.innerHTML = "<button class='delete' onclick='dele()'>Delete</button>";
                
            }
        })
        function dele() {
            var but = document.getElementsByClassName("delete");
            var row = document.getElementsByTagName("tr");
            //for (let i = 0; i < but.length; i++) {
                //but[i].addEventListener("click", block);
                var td = event.target.parentNode;
                //function block() {
                    var tr = td.parentNode;
                    tr.parentNode.removeChild(tr);
                    // let j = i + 1;
                    
                    // console.log(i, but.length, row.length)
                    // row[i+1].remove();
                    // console.log(i, but.length, row.length);
                    
                    // but = document.getElementsByClassName("delete");
                    // i--;
                    // j--;
                //}
            //}
        }
    </script>
</body>
</html>